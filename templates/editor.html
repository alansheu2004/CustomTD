<!DOCTYPE html>

<html>
    <head>
        <title>CustomTD - Editor</title>
        
        {% include "snippets/head.html" %}
        <link rel="stylesheet" type="text/css" href="stylesheets/play.css">
        <link rel="stylesheet" type="text/css" href="stylesheets/editor.css">
    </head>
    
    <body>
        {% include "snippets/header.html" %}

        <div id="editorHeader">
            <h2>Game Editor</h2>
            <input type="text" id="editorTitle" name="title" placeholder="Untitled Game">
            <button id="save">Save</button>
            <button id="publish">Publish</button>
        </div>

        <div id="editor">
            <div id="leftDiv">
                <div id="canvasDiv">
                    <canvas id="backgroundCanvas" width="640" height="360"></canvas>
                    <canvas id="enemyCanvas" width="640" height="360"></canvas>
                    <canvas id="attackCanvas" width="640" height="360"></canvas>
                    <canvas id="towerCanvas" width="640" height="360"></canvas>
                    <canvas id="panelCanvas" width="640" height="360"></canvas>
                    <canvas id="labelCanvas" width="640" height="360"></canvas>
                    <canvas id="dragCanvas" width="640" height="360"></canvas>
                    <canvas id="splashCanvas" width="640" height="360"></canvas>
                </div>
    
                <input type="checkbox" name="showBoundaries" id="showBoundaries"><label for="showBoundaries">Show Boundaries</label>
            </div>

            <div id="rightDiv">
                <div id="tabBar">
                    <input type="radio" class="tab" name="tab" value="theme" id="themeTab" checked><label for="themeTab">Theme</label>
                    <input type="radio" class="tab" name="tab" value="map" id="mapTab"><label for="mapTab">Map</label>
                    <input type="radio" class="tab" name="tab" value="towers" id="towersTab"><label for="towersTab">Towers</label>
                    <input type="radio" class="tab" name="tab" value="enemies" id="enemiesTab"><label for="enemiesTab">Enemies</label>
                    <input type="radio" class="tab" name="tab" value="rounds" id="roundsTab"><label for="roundsTab">Rounds</label>
                </div>

                <div id="tabContentWrapper">
                    <div id="theme" class="tabContent">
                        <section>
                            <h2>Appearance</h2>
                            <div class="group">
                                <div>
                                    <label>Font: </label>
                                    <select name="font" id="font">
                                        <option value="Oeztype">Oeztype</option>
                                        <option value="Arial">Arial</option>
                                        <option value="Consolas">Consolas</option>
                                        <option value="Montserrat">Montserrat</option>
                                    </select>
                                </div>
                            </div>
        
                            <div>
                                <label>Panel Base Color: </label>
                                <label for="panelBaseColor"><input type="color" id="panelBaseColor"></label>
                            </div>
                            <div>
                                <label>Panel Box Color: </label>
                                <label for="panelBoxColor"><input type="color" id="panelBoxColor"></label>
                            </div>
                            <div>
                                <label>Panel Text Color: </label>
                                <label for="panelTextColor"><input type="color" id="panelTextColor"></label>
                            </div>
        
                            <div class="group">
                                <div>
                                    <label>Panel Tower Option Color: </label>
                                    <label for="panelTowerOptionColor"><input type="color" id="panelTowerOptionColor"></label>
                                </div>
                                <div>
                                    <label>Panel Tower Option Outline Color: </label>
                                    <label for="panelTowerOptionOutlineColor"><input type="color" id="panelTowerOptionOutlineColor"></label>
                                </div>
                            </div>
        
                            <div class="group">
                                <div>
                                    <label>Panel Button Color: </label>
                                    <label for="panelButtonColor"><input type="color" id="panelButtonColor"></label>
                                </div>
                                <div>
                                    <label>Panel Button Text Color: </label>
                                    <label for="panelButtonTextColor"><input type="color" id="panelButtonTextColor"></label>
                                </div>
                            </div>
                        </section>
                        <section>
                            <h2>Sounds</h2>
                            <div>
                                <label>Background Music: </label>
                                <label for="backgroundMusic" class="file">Add...</label><input type="file" id="backgroundMusic" accept="audio/*">
                                <button id="removeBackgroundMusic" class="file" style="display: none">Remove</button><br />
                            </div>
                        </section>
                    </div>
        
                    <div id="map" class="tabContent">
                        <section>
                            <h2>Background</h2>
                            <div>
                                <img id="currentBackgroundImage" /><br />
                                <label for="backgroundImage" class="file">Change...</label><input type="file" id="backgroundImage" accept="image/*">
                                <span>Image will be stretched to fill 4:3 area</span>
                            </div>
                        </section>
                        <section>
                            <h2>Geometry</h2>
                            <h5>(Currently does nothing)</h5>
                            <div class="group">
                                <div>
                                    <label>Path:</label> <button id="editPath">Edit...</button>
                                </div>
                                <div>
                                    <label>Path Width:</label> <input type="number" id="pathWidth" min="0" max="50" step="1">
                                </div>
                            </div>
        
                            <div class="group">
                                <div>
                                    <label>Obstacles:</label> <button id="editObstacles">Edit...</button>
                                </div>
                                <div>
                                    <label>Water:</label> <button id="editWater">Edit...</button>
                                </div>
                            </div>
                        </section>
                    </div>

                    <div id="towers" class="tabContent">
                        <div id="mainTowerScreen">
                            <section>
                                <h2>Towers</h2>
                                <table id="towerTable">
    
                                </table>
                            </section>
    
                            <table class="templates">
                                <tr id="towerTableTemplate" style="display: none">
                                    <td><img /></td>
                                    <td style="width: 100%"></td>
                                    <td><button class="editTower">Edit</button></td>
                                    <td><button class="deleteTower">X</button></td>
                                </tr>
                            </table>
                        </div>
                        
                        <div id="editTowerScreen" style="display: none;">
                            <section>
                                <a id="backToTowerScreen">&lt; Back to Tower Screen</a>
                                <h2>Edit Tower</h2>
                            </section>

                            <section>
                                <div>
                                    <!-- <img id="currentTowerImage" /><br />
                                    <label for="towerImage" class="file">Change Image...</label><input type="file" id="towerImage" accept="image/*">
                                    <span>Have the tower in the iimage face downwards.</span> -->
                                </div>
                                <div>
                                    <label>Name:</label> <input type="text" id="towerName" maxlength="31">
                                </div>
                                <div>
                                    <label>Footprint:</label> <input type="number" id="towerFootprint" min="1" max="50">
                                </div>
                                <div>
                                    <label>Turning:</label> <input type="checkbox" id="towerTurning">
                                </div>
                                <div>
                                    <label>Water-Based:</label> <input type="checkbox" id="towerWater">
                                </div>
                            </section>
                        </div>
                    </div>
        
                    <div id="enemies" class="tabContent">
                        <p>enemies</p>
                    </div>
        
                    <div id="rounds" class="tabContent">
                        <p>rounds</p>
                    </div>
                </div>
    
                
            </div>
        </div>

        {% include "snippets/footer.html" %}

        <script type="text/javascript" src="scripts/editor/inputs.js"></script>
        <script type="text/javascript" src="scripts/editor/tabs.js"></script>
        <script type="text/javascript" src="scripts/editor/tables.js"></script>
        {% for filename in scripts %}
            {% if filename %}
                <script type="text/javascript" src="{{ filename }}"></script>
            {% endif %}
        {% endfor %}
    </body>
</html>